# RUN-001

**Created:** 2025-12-24
**Status:** Under Review
**Base:** sc-002 (Stream feeds + VideoProvider interface)

---

## 1. Inputs

### Source Document Versions

| Document | Version | Date |
|----------|---------|------|
| GOALS.md | v3 | 2025-12-24 |
| USER-STORIES.md | v8 | 2025-12-24 |
| DIRECTIVES.md | v1 | 2025-11-30 |
| DB-SCHEMA.md | v1 | 2025-12-24 |
| PAGES.md | v1 | 2025-12-23 |
| COMPONENTS.md | v1 | 2025-12-23 |
| API.md | v1 | 2025-12-23 |

### Parameters

| Parameter | Value | Rationale |
|-----------|-------|-----------|
| Timeline | 4 months | Brian confirmed (CD-033) |
| Video Platform | VideoProvider interface | Abstracted - BBB/PlugNmeet/Daily.co selectable later (API.md) |
| Activity Feeds | Stream.io | DIR-002, confirmed feeds-only usage |
| Calendar | TBD | Open question - Cal.com vs custom vs Google |
| Hosting | Cloudflare | DIR-003 |
| Payment | Stripe | DIR-004, 85/15 split confirmed (CD-033) |
| UI Framework | React + TailwindCSS | DIR-005, DIR-006 |

### Directives Applied

| ID | Directive | Status |
|----|-----------|--------|
| DIR-001 | MUST-USE BigBlueButton or VideoProvider-compliant platform | Applied via interface |
| DIR-002 | MUST-USE Stream.io for activity feeds | Applied |
| DIR-003 | PREFER Cloudflare for hosting/edge services | Applied |
| DIR-004 | MUST-USE Stripe for payment processing | Applied |
| DIR-005 | MUST-USE React for UI components | Applied |
| DIR-006 | MUST-USE TailwindCSS for styling | Applied |

### Scope Constraints

- **P0 stories only:** 144 total (required for Genesis Cohort launch)
- **Feature removal strategy:** If scope exceeds 4 months, remove features (not extend timeline)
- **Block sequence:** Block 1 (4-5 weeks) → Block 2 (4-5 weeks) → Block 3 (4-6 weeks) + Buffer (2 weeks)

### Key Clarifications from CD-033

- **Unified pricing model:** Course price = S-T price (no Teacher premium)
- **Revenue split:** 85/15 (platform 15%)
- **Enrollment flow:** S-T calendar + list shown before purchase, "Schedule Later" option
- **Refund policy:** Any-time refunds allowed

---

## 2. Generation Notes

**Generated:** 2025-12-24

### Documents Consulted
- GOALS.md (v3) - 27 goals, mission statement
- USER-STORIES.md (v8) - 329 stories, 144 P0
- DIRECTIVES.md (v1) - 6 directives
- DB-SCHEMA.md (v1) - 30+ entities
- PAGES.md (v1) - 27 pages
- COMPONENTS.md (v1) - 40+ components
- API.md (v1) - 50+ endpoints

### Key Decisions Made During Generation
1. **Cloudflare D1** recommended for database (aligns with hosting preference)
2. **Custom JWT auth** recommended (simple, no vendor lock-in)
3. **Feature removal priority** defined for scope management
4. **Block sequence** mapped to specific features
5. **VideoProvider interface** confirmed as abstraction layer

### Assumptions Applied
- Stream.io for feeds (not Bluesky)
- Single certificate type for MVP
- 1:1 sessions only (no group)
- Moderators post-MVP
- Newsletter/AI assistant excluded

---

## 3. Results

- **Scenario File:** [scenario.md](scenario.md)
- **Generated:** 2025-12-24
- **Summary:** Complete technical specification for sc-002 (Stream + VideoProvider). 14 sections covering stack, scope, architecture, integrations, and implementation guidance. Ready for review.

---

## 4. Review & Discussion

### Client Feedback

*[To be filled after review]*

### Questions State at Run Time

Complete status of all questions from QUESTIONS-FOR-BRIAN.md at time of this run:

| # | Status | Topic | Impact on Run |
|---|--------|-------|---------------|
| 1 | Open | GetStream.io vs Bluesky protocol | Assuming Stream per DIR-002 |
| 2 | **Deferred** | Video platform final decision | Interface abstraction allows deferral |
| 3 | **Deferred** | PlugNmeet evaluation status | Interface abstraction allows deferral |
| 4 | **Deferred** | Single platform or hybrid? | Interface abstraction allows deferral |
| 5 | Open | Newsletter with subscription payments | Excluding from MVP scope |
| 6 | Open | AI Assistant technology | Excluding from MVP scope |
| 7 | Open | Newsletters technology | Excluding from MVP scope |
| 8 | Open | Bluesky vs GetStream.io | Assuming Stream per DIR-002 |
| 9 | Open | Certificate of Mastery vs Completion | Using single certificate type for MVP |
| 10 | Open | Profile visibility default | Assuming Public default |
| 11 | Open | Community structure | Assuming instructor_followers model |
| 12 | Open | Channels within communities | Treating as test artifacts |
| 13 | Open | Auto-join rules | Assuming Town Hall only |
| 14 | Open | Course vs Instructor feed access | Per CD-024 model |
| 15 | Open | Availability states | Using Available/Unavailable only |
| 16 | Open | Session booking integration | Calendar-first approach |
| 17 | Open | Group sessions | Excluding from MVP (1:1 only) |
| 18 | Open | Creator Dashboard | Using same view as S-T for MVP |
| 19 | Open | Admin features | Minimal admin for MVP |
| 20 | Open | Homework system | Excluding from MVP |
| 21 | Open | Session resources | External links (like course content) |
| 22 | Open | User menu in header | Including standard dropdown |
| 23 | **Resolved** | S-T Pricing visibility | Unified pricing model (CD-033) |
| 24 | Open | Course completion criteria | S-T recommend + Creator approve |
| 25 | Open | Moderator invite system | Post-MVP per CD-032 |
| 26 | **Resolved** | Timeline (6 vs 4 months) | 4 months, feature removal strategy |

**Summary:** 21 Open | 3 Deferred | 2 Resolved

**Assumptions Made:** Where questions are open, run uses the "Impact on Run" assumption. These can be revised in future runs if Brian provides different answers.

---

## 5. Decisions & Rationale

| Decision | Choice | Rationale | Date |
|----------|--------|-----------|------|
| Video platform | Interface abstraction | Allows deferred selection, no architecture impact | 2025-12-24 |
| Pricing model | Unified (course = S-T price) | Per Brian in CD-033 | 2025-12-24 |
| Revenue split | 85/15 | Per Brian in CD-033 | 2025-12-24 |
| Timeline strategy | Feature removal | 4 months fixed, scope flexible | 2025-12-24 |

---

## 6. Outcome

**Status:** Under Review
**Next Step:** Client review of scenario.md

---

## Files in This Run

| File | Purpose | Status |
|------|---------|--------|
| run-001.md | This file - run specification | Complete |
| scenario.md | Generated SPECS.md | **Complete** |
| review-notes.md | Client feedback | Pending |
| assets/video-platform-decisions.md | VideoProvider interface, BBB vs PlugNmeet | **Complete** |
| assets/stream-usage.md | Stream.io feeds-only usage | **Complete** |
| assets/hosting-decisions.md | Cloudflare stack decisions | **Complete** |
| assets/payment-decisions.md | Stripe Connect, 85/15 split | **Complete** |

---

## Review Checklist

- [ ] Technology stack appropriate?
- [ ] Scope (144 P0 stories) achievable in 4 months?
- [ ] Assumptions acceptable for open questions?
- [ ] Block sequence makes sense?
- [ ] Feature removal priority correct?
- [ ] Architecture fits Cloudflare preference?
- [ ] Any missing requirements?
